name: "Dependabot Updates"

on:
  schedule:
    - cron: "0 0 * * *" # Runs daily at midnight UTC
  pull_request:
    branches:
      - main # Adjust based on your default branch name

jobs:
  dependabot:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      # Add a step to verify if the PR is from Dependabot
      - name: Verify Dependabot PR
        run: |
          if [[ "${{ github.actor }}" != "dependabot[bot]" ]]; then
            echo "PR is not from Dependabot, skipping.";
            exit 0;
          fi

      - name: Run Dependabot
        uses: dependabot/fetch-metadata@v1